{% extends 'admin/base.html.twig' %}
{% block title %}Productos{% endblock %}

{% block body %}
<h1 class="mb-4">Productos</h1>

<a href="{{ path('admin_productos_nuevo') }}" class="btn btn-primary mb-3">Nuevo Producto</a>

<div class="table-responsive">
<table class="table table-hover shadow-sm rounded">
    <thead class="table-dark">
        <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Precio</th>
            <th>Stock / Variaciones</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        {% for producto in productos %}
        <tr>
            <td>{{ producto.id }}</td>
            <td>{{ producto.nombre }}</td>
            <td>{{ producto.precio }}â‚¬</td>

            <td>
                {% for variacion in producto.variaciones %}
                    <span class="badge bg-secondary me-1 mb-1">
                        {{ variacion.stock }} ({{ variacion.talla }}/{{ variacion.color }})
                    </span>
                {% endfor %}
            </td>

            <td>
                <a href="{{ path('admin_productos_editar', {'id': producto.id}) }}" class="btn btn-sm btn-primary me-1">Editar</a>
                <a href="{{ path('admin_productos_eliminar', {'id': producto.id}) }}" class="btn btn-sm btn-danger">Eliminar</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
</div>

{% endblock %}

{% block styles %}
<style>
/* Tabla */
.table {
    background-color: #fff;
    border-radius: 8px;
    overflow: hidden;
}
.table thead th {
    text-align: center;
    font-weight: 600;
}
.table tbody td {
    vertical-align: middle;
    text-align: center;
}
.table-hover tbody tr:hover {
    background-color: #f8f9fa;
    transition: 0.3s;
}

/* Botones */
.btn-sm {
    border-radius: 5px;
    font-weight: 500;
}
.btn-primary:hover {
    background-color: #0056b3;
    border-color: #0056b3;
}
.btn-danger:hover {
    background-color: #a71d2a;
    border-color: #a71d2a;
}

/* Variaciones */
.badge {
    font-size: 0.85em;
    padding: 0.4em 0.6em;
    display: inline-block;
}
</style>
{% endblock %}
